{"ast":null,"code":"var _jsxFileName = \"/home/niemand/Python/massiliarp/frontend/src/components/Units.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BACKEND_URL } from '../App'; // Components\n\nimport Navbar from './Navbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Units = ({\n  csrf,\n  logout\n}) => {\n  _s();\n\n  // State\n  const [army, setArmy] = useState([]);\n  const [navy, setNavy] = useState([]);\n  const axiosConfig = {\n    headers: {\n      'Content-Type': 'application/json',\n      'X-CSRFToken': csrf\n    },\n    withCredentials: true\n  }; // Get the army units\n\n  useEffect(() => {\n    axios.get(BACKEND_URL + '/api/army-unit', axiosConfig).then(response => {\n      setArmy(response.data);\n    });\n  }, []); // Get the navy's ships\n\n  useEffect(() => {\n    axios.get(BACKEND_URL + '/api/navy-unit', axiosConfig).then(response => {\n      setNavy(response.data);\n    });\n  }, []);\n\n  const handleRaisedChange = (event, unit) => {\n    unit.raised = !unit.raised; // Post data to backend server\n  };\n\n  const whoAmI = event => {\n    event.preventDefault();\n    fetch(BACKEND_URL + '/api-auth/whoami/', {\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      credentials: 'include'\n    }).then(response => json(response)).then(data => {\n      console.log(data['username']);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      initSettings: ['home', 'buildings', 'population'],\n      csrf: csrf,\n      logout: () => {\n        logout();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap justify-around\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: /*#__PURE__*/_jsxDEV(\"u\", {\n            children: \"Army\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), army.map(unit => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"cursor-pointer\",\n            defaultChecked: unit.raised,\n            onClick: e => {\n              handleRaisedChange(e, unit);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: unit.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"price: \", Math.ceil(unit.recruitment_cost * unit.units_recruited), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 98\n            }, this), \"upkeep: \", unit.raised ? Math.ceil(unit.upkeep_cost * unit.units_recruited) : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: process.env.PUBLIC_URL + '/images/minus.ico',\n            alt: \"minus icon\",\n            className: \"cursor-pointer unit-number-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: unit.units_recruited,\n            placeholder: unit.units_recruited + ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: process.env.PUBLIC_URL + '/images/plus.ico',\n            alt: \"plus icon\",\n            className: \"cursor-pointer unit-number-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 29\n          }, this)]\n        }, unit.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Navy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), navy.map(unit => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: unit.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"price: \", Math.ceil(unit.recruitment_cost * unit.units_recruited), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 98\n            }, this), \"upkeep: \", Math.ceil(unit.upkeep_cost * unit.units_recruited)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: process.env.PUBLIC_URL + '/images/minus.ico',\n            alt: \"minus icon\",\n            className: \"cursor-pointer unit-number-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: unit.units_recruited,\n            placeholder: unit.units_recruited + ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: process.env.PUBLIC_URL + '/images/plus.ico',\n            alt: \"plus icon\",\n            className: \"cursor-pointer unit-number-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 29\n          }, this)]\n        }, unit.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        whoAmI(e);\n      },\n      children: \"Who Am I\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Units, \"VJPVhWjmTBJ38kJaABvxZ/nSkHo=\");\n\n_c = Units;\nexport default Units;\n\nvar _c;\n\n$RefreshReg$(_c, \"Units\");","map":{"version":3,"sources":["/home/niemand/Python/massiliarp/frontend/src/components/Units.tsx"],"names":["React","useState","useEffect","axios","BACKEND_URL","Navbar","Units","csrf","logout","army","setArmy","navy","setNavy","axiosConfig","headers","withCredentials","get","then","response","data","handleRaisedChange","event","unit","raised","whoAmI","preventDefault","fetch","credentials","json","console","log","map","e","name","Math","ceil","recruitment_cost","units_recruited","upkeep_cost","process","env","PUBLIC_URL"],"mappings":"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","sourcesContent":["import React, { FC, useState, useEffect, ButtonHTMLAttributes } from 'react'\nimport axios from 'axios'\nimport { BACKEND_URL } from '../App'\n\n// Components\nimport Navbar from './Navbar'\n\ninterface Props {\n    csrf: string\n    logout: Function\n}\n\ninterface Unit {\n    name: string\n    recruitment_cost: number\n    upkeep_cost: number\n    units_recruited: number\n    settings?: number\n}\n\ninterface ArmyUnit extends Unit {\n    raised: boolean\n}\n\ninterface NavyUnit extends Unit {\n\n}\n\nconst Units: FC<Props> = ({ csrf, logout }) => {\n    // State\n    const [army, setArmy] = useState<ArmyUnit[]>([])\n    const [navy, setNavy] = useState<NavyUnit[]>([])\n\n    const axiosConfig = {\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrf,\n        },\n        withCredentials: true,\n    }\n\n    // Get the army units\n    useEffect(() => {\n        axios.get<ArmyUnit[]>(BACKEND_URL + '/api/army-unit', axiosConfig)\n        .then(response => {\n            setArmy(response.data)\n        })\n    }, [])\n\n\n    // Get the navy's ships\n    useEffect(() => {\n        axios.get<NavyUnit[]>(BACKEND_URL + '/api/navy-unit', axiosConfig)\n        .then(response => {\n            setNavy(response.data)\n        })\n    }, [])\n\n    const handleRaisedChange = (event: React.MouseEvent<HTMLInputElement>, unit: ArmyUnit) => {\n        unit.raised = !unit.raised\n        \n        // Post data to backend server\n    }\n\n    const whoAmI = (event: React.MouseEvent<HTMLButtonElement>) => {\n        event.preventDefault()\n        fetch(BACKEND_URL + '/api-auth/whoami/', {\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': csrf,\n            },\n            credentials: 'include',\n        })\n        .then(response => (\n            json(response)\n        ))\n        .then(data => {\n            console.log(data['username'])\n        })\n    }\n\n    return (\n        <>\n            <Navbar initSettings={['home', 'buildings', 'population']} csrf={csrf} logout={() => {logout()}} />\n            <div className=\"flex flex-wrap justify-around\">\n                {/* Army units */}\n                <div className=\"flex flex-col\">\n                    <h1><u>Army</u></h1>\n                    {army.map((unit: ArmyUnit) => (\n                        <div key={unit.name} className=\"flex flex-wrap\">\n                            <input type=\"checkbox\" className=\"cursor-pointer\" defaultChecked={unit.raised} onClick={e => {handleRaisedChange(e, unit)}} />\n                            <h2>{unit.name}</h2>\n                            <div>\n                                price: {Math.ceil(unit.recruitment_cost * unit.units_recruited)} <br />\n                                upkeep: {unit.raised ? Math.ceil(unit.upkeep_cost * unit.units_recruited) : 0}\n                            </div>\n                            <img src={process.env.PUBLIC_URL + '/images/minus.ico'} alt=\"minus icon\" className=\"cursor-pointer unit-number-icon\" />\n                            <input type=\"text\" value={unit.units_recruited} placeholder={unit.units_recruited + ''} />\n                            <img src={process.env.PUBLIC_URL + '/images/plus.ico'} alt=\"plus icon\" className=\"cursor-pointer unit-number-icon\" />\n                        </div>\n                    ))}\n                </div>\n                {/* Navy units */}\n                <div className=\"flex flex-col\">\n                    <h1>Navy</h1>\n                    {navy.map((unit: NavyUnit) => (\n                        <div key={unit.name} className=\"flex flex-wrap\">\n                            <h2>{unit.name}</h2>\n                            <div>\n                                price: {Math.ceil(unit.recruitment_cost * unit.units_recruited)} <br />\n                                upkeep: {Math.ceil(unit.upkeep_cost * unit.units_recruited)}\n                            </div>\n                            <img src={process.env.PUBLIC_URL + '/images/minus.ico'} alt=\"minus icon\" className=\"cursor-pointer unit-number-icon\" />\n                            <input type=\"text\" value={unit.units_recruited} placeholder={unit.units_recruited + ''} />\n                            <img src={process.env.PUBLIC_URL + '/images/plus.ico'} alt=\"plus icon\" className=\"cursor-pointer unit-number-icon\" />\n                        </div>\n                    ))}\n                </div>\n            </div>\n            <button onClick={(e) => {whoAmI(e)}}>Who Am I</button>\n        </>\n    )\n}\n\nexport default Units\n"]},"metadata":{},"sourceType":"module"}