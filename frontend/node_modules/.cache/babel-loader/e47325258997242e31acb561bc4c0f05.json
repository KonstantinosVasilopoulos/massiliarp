{"ast":null,"code":"var _jsxFileName = \"/home/niemand/Python/massiliarp/frontend/src/components/Navbar.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { BACKEND_URL } from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\n// Capitilize the first letter of each word in a string\nconst capitilize = s => {\n  const arr = s.split(' ');\n\n  for (let i = 0; i < arr.length; i++) {\n    arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].slice(1);\n  }\n\n  return arr.join(' ');\n};\n\nconst Navbar = ({\n  initSettings,\n  csrf,\n  logout\n}) => {\n  _s();\n\n  // State\n  const [settings, setSettings] = useState(initSettings);\n  const [dropdown, setDropdown] = useState(false);\n  const [isLoggedOut, setIsLoggedOut] = useState(false);\n\n  const onSettingsClick = e => {\n    e.preventDefault();\n    setDropdown(!dropdown);\n  };\n\n  const endTurnClick = e => {\n    console.log('end turn');\n  };\n\n  const isResponseOk = response => {\n    if (response.status >= 200 && response.status <= 299) {\n      return response.json();\n    } else {\n      throw Error(response.statusText);\n    }\n  };\n\n  const onLogoutSubmit = event => {\n    event.preventDefault();\n    fetch(BACKEND_URL + '/api-auth/logout/', {\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      credentials: 'include'\n    }).then(res => isResponseOk(res)).then(data => {\n      console.log(data); // -2\n\n      logout();\n      setIsLoggedOut(true);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    id: \"navbar\",\n    className: \"top-0 m-0 p-0 pr-2 list-none overflow-hidden bg-blue md:pr-12\",\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"inline float-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: process.env.PUBLIC_URL + '/images/massilia-icon.webp',\n        alt: \"massilia logo\",\n        className: \"inline-block\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xl text-silver font-bold\",\n        children: \"MassaliaRP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 129\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"inline float-right mx-1.5 md:mx-4\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"end-turn-btn\",\n        className: \"p-1.5 border-2 border-silver rounded text-lg text-silver font-bold hover:opacity-60\",\n        onClick: e => {\n          endTurnClick(e);\n        },\n        children: \"End Turn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"inline float-right mx-1.5 md:mx-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col justify-end items-center mt-4 cursor-pointer hover:opacity-40\",\n        onClick: e => {\n          onSettingsClick(e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"settings-icon\",\n          src: process.env.PUBLIC_URL + '/images/settings-icon.png',\n          alt: \"settings icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"settings-clickable\",\n          className: \"m-0 p-0 text-2xl font-bold\",\n          children: \"\\u2039\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), dropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"settings-dropdown\",\n        children: [settings.map(i => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: '/' + i,\n            className: \"text-blue font-semibold hover:text-salmon-dark\",\n            children: capitilize(i)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 141\n          }, this)]\n        }, void 0, true)), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"text-blue font-semibold hover:text-salmon-dark\",\n          onClick: e => {\n            onLogoutSubmit(e);\n          },\n          children: \"Logout\"\n        }, 'logout', false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this), isLoggedOut && /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Navbar, \"ziVUCARBVOXQg16pnG8Mlqo3aTk=\");\n\n_c = Navbar;\nexport default Navbar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"sources":["/home/niemand/Python/massiliarp/frontend/src/components/Navbar.tsx"],"names":["React","useState","Link","Redirect","BACKEND_URL","capitilize","s","arr","split","i","length","charAt","toUpperCase","slice","join","Navbar","initSettings","csrf","logout","settings","setSettings","dropdown","setDropdown","isLoggedOut","setIsLoggedOut","onSettingsClick","e","preventDefault","endTurnClick","console","log","isResponseOk","response","status","json","Error","statusText","onLogoutSubmit","event","fetch","headers","credentials","then","res","data","catch","err","process","env","PUBLIC_URL","map"],"mappings":"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","sourcesContent":["import React, { FC, useState } from 'react'\nimport { Link, Redirect } from 'react-router-dom'\nimport { BACKEND_URL } from '../App'\n\ninterface Props {\n    initSettings: string[]\n    csrf: string\n    logout: Function\n}\n\n// Capitilize the first letter of each word in a string\nconst capitilize = (s: string) => {\n    const arr = s.split(' ')\n    for (let i = 0; i < arr.length; i++) {\n        arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].slice(1)\n    }\n\n    return arr.join(' ')\n}\n\nconst Navbar: FC<Props> = ({ initSettings, csrf, logout }) => {\n    // State\n    const [settings, setSettings] = useState(initSettings)\n    const [dropdown, setDropdown] = useState(false)\n    const [isLoggedOut, setIsLoggedOut] = useState(false)\n\n    const onSettingsClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        setDropdown(!dropdown);\n    }\n\n    const endTurnClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n        console.log('end turn')\n    }\n\n    const isResponseOk = (response: any) => {\n        if (response.status >= 200 && response.status <= 299) {\n            return response.json()\n        } else {\n            throw Error(response.statusText)\n        }\n    }\n\n    const onLogoutSubmit = (event: React.MouseEvent<HTMLAnchorElement>) => {\n        event.preventDefault()\n        fetch(BACKEND_URL + '/api-auth/logout/', {\n            headers: {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': csrf,\n            },\n            credentials: 'include',\n        })\n        .then(res => isResponseOk(res))\n        .then(data => {\n            console.log(data)  // -2\n            logout()\n            setIsLoggedOut(true)\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n    return (\n        <ul id=\"navbar\" className=\"top-0 m-0 p-0 pr-2 list-none overflow-hidden bg-blue md:pr-12\">\n            <li className=\"inline float-left\">\n                <img src={process.env.PUBLIC_URL + '/images/massilia-icon.webp'} alt=\"massilia logo\" className=\"inline-block\" /><span className=\"text-xl text-silver font-bold\">MassaliaRP</span>\n            </li>\n            <li className=\"inline float-right mx-1.5 md:mx-4\">\n                <button id=\"end-turn-btn\" className=\"p-1.5 border-2 border-silver rounded text-lg text-silver font-bold hover:opacity-60\" onClick={(e) => {endTurnClick(e)}}>End Turn</button>\n            </li>\n            <li className=\"inline float-right mx-1.5 md:mx-10\">\n                <div className=\"flex flex-col justify-end items-center mt-4 cursor-pointer hover:opacity-40\" onClick={(e) => {onSettingsClick(e)}}>\n                    <img id=\"settings-icon\" src={process.env.PUBLIC_URL + '/images/settings-icon.png'} alt=\"settings icon\" />\n                    <span id=\"settings-clickable\" className=\"m-0 p-0 text-2xl font-bold\">&#8249;</span>\n                </div>\n                { dropdown && \n                    <div id=\"settings-dropdown\">\n                        {settings.map((i) => (\n                            <>\n                                <Link key={i} to={'/' + i} className=\"text-blue font-semibold hover:text-salmon-dark\">{capitilize(i)}</Link><br />\n                            </>\n                        ))}\n                        <Link key={'logout'} to=\"/\" className=\"text-blue font-semibold hover:text-salmon-dark\" onClick={(e) => {onLogoutSubmit(e)}}>Logout</Link>\n                        { isLoggedOut && <Redirect to=\"/\" /> }\n                    </div>\n                }\n            </li>\n        </ul>\n    )\n}\n\nexport default Navbar\n"]},"metadata":{},"sourceType":"module"}